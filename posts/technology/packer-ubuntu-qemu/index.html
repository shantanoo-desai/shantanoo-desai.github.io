<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading - Shan's Corner</title><meta name=Description content="Shan's World"><meta property="og:title" content="Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/"><meta property="article:published_time" content="2022-08-21T15:44:28+02:00"><meta property="article:modified_time" content="2022-08-21T15:44:28+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading"><meta name=twitter:description content><meta name=application-name content="Shan's World"><meta name=apple-mobile-web-app-title content="Shan's World"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/><link rel=prev href=https://shantanoo-desai.github.io/posts/technology/compose-incompatibility/><link rel=next href=https://shantanoo-desai.github.io/posts/technology/containers-to-os/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Customized Ubuntu Images using Packer + QEMU + Cloud-Init \u0026 UEFI bootloading","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shantanoo-desai.github.io\/posts\/technology\/packer-ubuntu-qemu\/"},"genre":"posts","keywords":"devops, packer, qemu, IaC, ubuntu","wordcount":1113,"url":"https:\/\/shantanoo-desai.github.io\/posts\/technology\/packer-ubuntu-qemu\/","datePublished":"2022-08-21T15:44:28+02:00","dateModified":"2022-08-21T15:44:28+02:00","publisher":{"@type":"Organization","name":"Shan"},"author":{"@type":"Person","name":"Shan"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Shan's Corner">Shan's Corner</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/now title="What am I currently focusing on">Now </a><a class=menu-item href=/posts/ title="My thoughts and works digitally transcribed">Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/about/ title="Everything You wish to know about me">About </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shan's Corner">Shan's Corner</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/now title="What am I currently focusing on">Now</a><a class=menu-item href=/posts/ title="My thoughts and works digitally transcribed">Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/about/ title="Everything You wish to know about me">About</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Shan</a></span>&nbsp;<span class=post-category>included in <a href=/categories/technology/><i class="far fa-folder fa-fw"></i>Technology</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=21-08-2022>21-08-2022</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1113 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#cloud-init>Cloud-Init</a></li><li><a href=#packer>Packer</a></li><li><a href=#qemu>QEMU</a></li><li><a href=#ubuntu-live-server>Ubuntu Live-Server</a></li><li><a href=#implementation>Implementation</a><ul><li><a href=#pre-requisites>Pre-Requisites</a></li><li><a href=#cloud-init-user-data-file>Cloud-Init: <code>user-data</code> File</a></li><li><a href=#packer-file>Packer File</a></li></ul></li><li><a href=#repository>Repository</a></li><li><a href=#resources>Resources</a></li></ul></nav></div></div><div class=content id=content><h1 id=custom-ubuntu-images>Custom Ubuntu Images</h1><blockquote><p>NOTE: This post requires more than intermediate knowledge of the tools being used.</p></blockquote><p>In current times, you might want to spin up a customized, well-known Distribution like Ubuntu, Debian, CentOS etc.
without having to write large Shell Scripts. This post sheds light on how to create images using tools like
<strong>Hashicorp&rsquo;s Packer</strong> and <strong>QEMU (Quick Emulator)</strong>.</p><h2 id=cloud-init>Cloud-Init</h2><p><a href=https://cloud-init.io target=_blank rel="noopener noreffer">Cloud-Init</a> is a <em>standardized</em> way to configure your Images without having to write shell scripts. It is a set of YAML
files that tells the image what needs to be done on the first-boot of the OS. We will use Cloud-Init to create the following:</p><ul><li>Create 2 Users (<code>admin</code> and <code>user1</code>)</li><li>Set the Bootloader Sequence when trying to boot the Image using <strong>UEFI</strong></li></ul><h2 id=packer>Packer</h2><p><a href=https://packer.io target=_blank rel="noopener noreffer">Hashicorp Packer</a> provides a nice wrapper / abstraction over the QEMU in order to boot the image and use it to set it up on first-boot.
Instead of writing really long commands in order to boot up the image using QEMU, Packer provided a nice Configuration Template in a more
readable fashion.</p><h2 id=qemu>QEMU</h2><p><a href=https://www.qemu.org target=_blank rel="noopener noreffer">QEMU</a> is one of the most renowned emulator. We will use it to actually boot the ISO image, which Packer will download for us and use it
customize our Ubuntu Image. We will use the <code>X86_64</code> architecture.</p><h2 id=ubuntu-live-server>Ubuntu Live-Server</h2><p>You can use either the Cloud Images or Live-Server from Ubuntu depending on your use. We will be using Ubuntu&rsquo;s Live-Server.</p><h2 id=implementation>Implementation</h2><blockquote><p>NOTE: The configurations used here will work for Ubuntu 20.04 LTS (Focal Fossa) as well as Ubuntu 22.04 (Jammy Jellyfish)</p></blockquote><h3 id=pre-requisites>Pre-Requisites</h3><p>Make sure to install:</p><ol><li><code>qemu</code> (Optionally <code>kvm</code>)</li><li><code>packer</code></li></ol><h3 id=cloud-init-user-data-file>Cloud-Init: <code>user-data</code> File</h3><p>The <code>user-data</code> file is where we will be add configuration that is needed for first boot. As a clarification, Ubuntu Live Server uses a tool
called <strong>Autoinstall / Subiquity</strong> Installer wherein Cloud-Init configuration is a subset.</p><p>As previously mentioned, we will use this file to setup:</p><ol><li>Create Two Users: <code>admin</code> and <code>user1</code></li><li>Setup the bootloader logic in order to quickly boot the ISO after the first-boot</li></ol><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c>#cloud-config</span><span class=w>
</span><span class=w></span><span class=k>autoinstall</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>version</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>  </span><span class=k>locale</span><span class=p>:</span><span class=w> </span>en_US<span class=w>
</span><span class=w>  </span><span class=k>keyboard</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>layout</span><span class=p>:</span><span class=w> </span>us<span class=w>
</span><span class=w>  </span><span class=k>ssh</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>install-server</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=k>allow-pw</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>  </span><span class=k>packages</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- qemu-guest-agent<span class=w>
</span><span class=w>  </span><span class=k>late-commands</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=sd>|
</span><span class=sd>      if [ -d /sys/firmware/efi ]; then</span><span class=w>
</span><span class=w>        </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>efibootmgr<span class=w>
</span><span class=w>        </span>efibootmgr<span class=w> </span>-o<span class=w> </span>$(efibootmgr<span class=w> </span>|<span class=w> </span>perl<span class=w> </span>-n<span class=w> </span>-e<span class=w> </span><span class=s1>&#39;/Boot(.+)\* ubuntu/ &amp;&amp; print $1&#39;</span>)<span class=w>
</span><span class=w>      </span>fi<span class=w>
</span><span class=w>  </span><span class=k>user-data</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>preserve_hostname</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>    </span><span class=k>hostname</span><span class=p>:</span><span class=w> </span>packerubuntu<span class=w>
</span><span class=w>    </span><span class=k>package_upgrade</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=k>timezone</span><span class=p>:</span><span class=w> </span>Europe/Berlin<span class=w>
</span><span class=w>    </span><span class=k>chpasswd</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>expire</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>      </span><span class=k>list</span><span class=p>:</span><span class=w>
</span><span class=w>        </span>- user1<span class=p>:</span>packerubuntu<span class=w>
</span><span class=w>    </span><span class=k>users</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>admin<span class=w>
</span><span class=w>        </span><span class=k>passwd</span><span class=p>:</span><span class=w> </span>$<span class=m>6</span>$xyz$74AlwKA3Z5n2L6ujMzm/zQXHCluA4SRc2mBfO2/O5uUc2yM2n2tnbBMi/IVRLJuKwfjrLZjAT7agVfiK7arSy/<span class=w>
</span><span class=w>        </span><span class=k>groups</span><span class=p>:</span><span class=w> </span><span class=p>[</span>adm<span class=p>,</span><span class=w> </span>cdrom<span class=p>,</span><span class=w> </span>dip<span class=p>,</span><span class=w> </span>plugdev<span class=p>,</span><span class=w> </span>lxd<span class=p>,</span><span class=w> </span>sudo<span class=p>]</span><span class=w>
</span><span class=w>        </span><span class=k>lock-passwd</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>        </span><span class=k>sudo</span><span class=p>:</span><span class=w> </span>ALL=(ALL)<span class=w> </span>NOPASSWD<span class=p>:</span>ALL<span class=w>
</span><span class=w>        </span><span class=k>shell</span><span class=p>:</span><span class=w> </span>/bin/bash<span class=w>
</span><span class=w>      </span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>user1<span class=w>
</span><span class=w>        </span><span class=k>plain_txt_passwd</span><span class=p>:</span><span class=w> </span>packerubuntu<span class=w>
</span><span class=w>        </span><span class=k>lock-passwd</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=w>        </span><span class=k>shell</span><span class=p>:</span><span class=w> </span>/bin/bash<span class=w>
</span></code></pre></div><p>The above mentioned file does the following:</p><ul><li><p>the <code>autoinstall</code> is Ubuntu&rsquo;s AutoInstall / Subiquity configuration section which will set:</p><ul><li>Keyboard locale to <code>en_US</code> and layout to US</li><li>Install SSH Server and allow Password login (will be used by Packer)</li><li><code>packages</code> will install some necessary packages on first-boot. Here we install <code>qemu-guest-agent</code> to help out
with login</li><li><code>late-commands</code> will be triggered at the end of the installation. Here we install the Bootloader Manager (<code>efibootmgr</code>).
We also define the sequence that tells the Boot Manager how it should setup the boot sequence. This will tell the manager
where the OS is and when should it be loaded</li><li><code>user-data</code> is the actual section where the Cloud-Init configuration takes place.</li></ul></li><li><p>The cloud-init configuration above should do the following:</p><ul><li>change the hostname to <code>packerubuntu</code></li><li>set the timezone <code>Europe/Berlin</code></li><li>Force change the password for the user called <code>user1</code> through <code>chpasswd</code></li><li>Describe which users need to be created:<ul><li><code>admin</code> should be create with the password <code>packerubuntu</code> (the encrypted password is created using <code>openssl passwd -6 -salt xyz</code>)</li><li><code>admin</code> should be granted sudo access without requirements for password</li><li><code>user1</code> should be created with <code>packerubuntu</code></li></ul></li></ul></li></ul><h3 id=packer-file>Packer File</h3><p>Packer configuration will set all the necessary values to download the ISO Image from Ubuntu Artifacts Repository, give the boot command
options when the ISO is first booted, tell Ubuntu that it will do an automatic installation rather than anticipating the user to intervene.</p><p>I am using the Hashicorp Language to define my Packer template file but one can also JSON to setup the configuration. The file is called
<code>ubuntu.pkr.hcl</code>.</p><div class=highlight><pre class=chroma><code class=language-hcl data-lang=hcl>
<span class=k>variable</span> <span class=s2>&#34;vm_template_name&#34;</span> {
<span class=n>  type</span>    <span class=o>=</span> <span class=k>string</span>
<span class=n>  default</span> <span class=o>=</span> <span class=s2>&#34;ubuntu-22.04&#34;</span>
}

<span class=k>variable</span> <span class=s2>&#34;ubuntu_iso_file&#34;</span> {
<span class=n>  type</span>    <span class=o>=</span> <span class=k>string</span>
<span class=n>  default</span> <span class=o>=</span> <span class=s2>&#34;ubuntu-22.04.1-live-server-amd64.iso&#34;</span>
}

<span class=k>source</span> <span class=s2>&#34;qemu&#34; &#34;custom_image&#34;</span> {<span class=c1>
</span><span class=c1>  
</span><span class=c1>  # Boot Commands when Loading the ISO file with OVMF.fd file (Tianocore) / GrubV2
</span><span class=c1></span><span class=n>  boot_command</span> <span class=o>=</span> <span class=p>[</span>
    <span class=s2>&#34;&lt;spacebar&gt;&lt;wait&gt;&lt;spacebar&gt;&lt;wait&gt;&lt;spacebar&gt;&lt;wait&gt;&lt;spacebar&gt;&lt;wait&gt;&lt;spacebar&gt;&lt;wait&gt;&#34;</span><span class=p>,</span>
    <span class=s2>&#34;e&lt;wait&gt;&#34;</span><span class=p>,</span>
    <span class=s2>&#34;&lt;down&gt;&lt;down&gt;&lt;down&gt;&lt;end&gt;&#34;</span><span class=p>,</span>
<span class=n>    &#34; autoinstall ds</span><span class=o>=</span><span class=n>nocloud-net\\;s</span><span class=o>=</span><span class=k>http</span><span class=err>://</span>{{ <span class=p>.</span><span class=k>HTTPIP</span> }}<span class=err>:</span>{{ <span class=p>.</span><span class=k>HTTPPort</span> }}<span class=err>/&#34;</span><span class=p>,</span>
    <span class=s2>&#34;&lt;f10&gt;&#34;</span>
  <span class=p>]</span>
<span class=n>  boot_wait</span> <span class=o>=</span> <span class=s2>&#34;5s&#34;</span>
  
  <span class=n>http_directory</span> <span class=o>=</span> <span class=s2>&#34;http&#34;</span>
<span class=n>  iso_url</span>   <span class=o>=</span> <span class=s2>&#34;https://releases.ubuntu.com/22.04.1/${var.ubuntu_iso_file}&#34;</span>
<span class=n>  iso_checksum</span> <span class=o>=</span> <span class=s2>&#34;file://https://releases.ubuntu.com/22.04.1/SHA256SUMS&#34;</span>
<span class=n>  memory</span> <span class=o>=</span> <span class=m>4096</span>
  
  <span class=n>ssh_password</span> <span class=o>=</span> <span class=s2>&#34;packerubuntu&#34;</span>
<span class=n>  ssh_username</span> <span class=o>=</span> <span class=s2>&#34;admin&#34;</span>
<span class=n>  ssh_timeout</span> <span class=o>=</span> <span class=s2>&#34;20m&#34;</span>
<span class=n>  shutdown_command</span> <span class=o>=</span> <span class=s2>&#34;echo &#39;packerubuntu&#39; | sudo -S shutdown -P now&#34;</span>

<span class=n>  headless</span> <span class=o>=</span> <span class=kt>false</span><span class=c1> # to see the process, In CI systems set to true
</span><span class=c1></span><span class=n>  accelerator</span> <span class=o>=</span> <span class=s2>&#34;kvm&#34;</span><span class=c1> # set to none if no kvm installed
</span><span class=c1></span><span class=n>  format</span> <span class=o>=</span> <span class=s2>&#34;qcow2&#34;</span>
<span class=n>  disk_size</span> <span class=o>=</span> <span class=s2>&#34;30G&#34;</span>
<span class=n>  cpus</span> <span class=o>=</span> <span class=m>6</span>

<span class=n>  qemuargs</span> <span class=o>=</span> <span class=p>[</span><span class=c1> # Depending on underlying machine the file may have different location
</span><span class=c1></span>    <span class=p>[</span><span class=s2>&#34;-bios&#34;, &#34;/usr/share/OVMF/OVMF_CODE.fd&#34;</span><span class=p>]</span>
  <span class=p>]</span> 
  <span class=n>vm_name</span> <span class=o>=</span> <span class=s2>&#34;${var.vm_template_name}&#34;</span>
}

<span class=k>build</span> {
<span class=n>  sources</span> <span class=o>=</span> <span class=p>[</span> <span class=s2>&#34;source.qemu.custom_image&#34;</span> <span class=p>]</span>
  <span class=k>provisioner</span> <span class=s2>&#34;shell&#34;</span> {
<span class=n>    inline</span> <span class=o>=</span> <span class=p>[</span> <span class=s2>&#34;while [ ! -f /var/lib/cloud/instance/boot-finished ]; do echo &#39;Waiting for Cloud-Init...&#39;; sleep 1; done&#34;</span> <span class=p>]</span>
  }
}
</code></pre></div><p>The Template file tells Packer where to find and download the ISO file. The <code>boot_command</code> is quite important because it tells
Packer how to navigate through the initial Boot Loaders Interface in order to enter the Grub Settings where we mention:</p><pre><code>  autoinstall ds=cloud-net\\;s=http://{{ .HTTPIP}}:{{ .HTTPPort }}/ 
</code></pre><p>This will tell ubuntu to install the Live server without manual intervention and obtain the cloud-init configuration files
from an HTTP File Server (setup by Packer itself).</p><blockquote><p>NOTE: please check beforehand where the dedicated OVMF.fd file is located on your build machine. In Majaro Linux it is located
at <code>/usr/share/OVMF/OVMF_CODE.fd</code></p></blockquote><p>The <code>headless = false</code> is very useful because Packer will open a VNC Viewer window that will completely show all the necessary
Boot loader UI + Setups + Logs. If using this file in a CI Pipeline, please set the value to <code>true</code></p><p>The <code>build</code> section of the template file will just check whether the Cloud-Init Steps have been finished or not.</p><p>Run the following command:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>packer build -force ubuntu.pkr.hcl
</code></pre></div><p>This will do all the magic for you! At the end you will have <code>qcow2</code> image which you can use to load it on your bare-metal machine
or use <code>qemu</code> commands to simply boot it up and test it.</p><p>Voil√† ! You now have a custom Ubuntu Image which you can load on your devices, servers etc. and do not have to painstakingly configure
anything by hand!</p><p>Don&rsquo;t let this stop you here, Packer let&rsquo;s you provision your Images with all necessary software packages using your favorite tools like
Ansible, Chef, Puppet. This implies you can even fine tune your images further to make your images exactly the way you want it to be.</p><h2 id=repository>Repository</h2><p>The code for this post can be found on <a href=https://github.com/shantanoo-desai/packer-ubuntu-server-uefi target=_blank rel="noopener noreffer">GitHub</a>.</p><p>Get in touch via LinkedIn, Email if you have queries, suggestions or criticism about this post!</p><h2 id=resources>Resources</h2><p><a href=https://www.aerialls.eu/posts/ubuntu-server-2204-image-packer-subiquity-for-proxmox/ target=_blank rel="noopener noreffer">Julien Brochet&rsquo;s Blog Post on Using Packer + Proxmox for Ubuntu 22.04</a></p><p><a href=https://github.com/dogukancagatay/qemu-vm-template-packer target=_blank rel="noopener noreffer">Dogukan Cagatay&rsquo;s QEMU VM Template Packer Repo</a>
<a href=https://www.puppeteers.net/blog/building-ubuntu-20-04-qemu-images-with-packer/ target=_blank rel="noopener noreffer">Pupeteers.net Blog on Ubuntu 20.04 qemu images with Packer</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 21-08-2022</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/ data-title="Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading" data-hashtags=devops,packer,qemu,IaC,ubuntu><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/ data-hashtag=devops><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/ data-title="Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/ data-title="Customized Ubuntu Images using Packer + QEMU + Cloud-Init & UEFI bootloading"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://shantanoo-desai.github.io/posts/technology/packer-ubuntu-qemu/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/devops/>DevOps</a>,&nbsp;<a href=/tags/packer/>Packer</a>,&nbsp;<a href=/tags/qemu/>qemu</a>,&nbsp;<a href=/tags/iac/>IaC</a>,&nbsp;<a href=/tags/ubuntu/>ubuntu</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/technology/compose-incompatibility/ class=prev rel=prev title="Exploring the marshland Docker Compose versions with single quotes, special characters and environment variables"><i class="fas fa-angle-left fa-fw"></i>Exploring the marshland Docker Compose versions with single quotes, special characters and environment variables</a>
<a href=/posts/technology/containers-to-os/ class=next rel=next title="Build a Bootable OS with Docker Containers using Hashicorp Packer">Build a Bootable OS with Docker Containers using Hashicorp Packer<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.70.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>